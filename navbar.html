<div class="navbar">
    <div class="menu-item">
        <a href="/d_dash/index.html">Home</a>
    </div>
    <div class="menu-item">
        <a href="#">Balances</a>
        <div class="submenu"></div>
    </div>
    <div class="menu-item">
        <a href="#">Prices</a>
        <div class="submenu"></div>
    </div>
    <div class="menu-item">
        <a href="#">Demand</a>
        <div class="submenu">
            <a href="/d_dash/test/wx_temps.html">Test</a>
            <a href="/d_dash/test/wx_temps.html">Test2</a>
        </div>
    </div>
    <div class="menu-item">
        <a href="#">Supply</a>
        <div class="submenu"></div>
    </div>
    <div class="menu-item">
        <a href="#">Storage</a>
        <div class="submenu">
            <a href="/d_dash/storage/nwe_stg.html">NWE</a>
            <a href="/d_dash/storage/cee_stg.html">CEE</a>
            <a href="/d_dash/storage/see_stg.html">SEE</a>
            <a href="/d_dash/storage/swe_stg.html">SWE</a>
        </div>
    </div>
    <div class="menu-item">
        <a href="#">Pipelines</a>
        <div class="submenu"></div>
    </div>
    <div class="menu-item">
        <a href="#">Weather</a>
        <div class="submenu">
            <a href="/d_dash/test/wx_temps.html">Test</a>
            <a href="/d_dash/test/wx_temps.html">Test2</a>
        </div>
    </div>

    <!-- User Info & Logout Button -->
    <div class="menu-item user-info">
        <span id="user-greeting" style="display: none;">Welcome, <span id="username"></span></span>
        <button id="logout-btn" onclick="logout()" style="display: none;">Logout</button>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const username = localStorage.getItem("username");
        const authStatus = localStorage.getItem("auth");

        console.log("Auth Status:", authStatus); // Debugging
        console.log("Username:", username); // Debugging

        if (authStatus === "true") { // Ensure correct string value
            document.getElementById("username").innerText = username;
            document.getElementById("user-greeting").style.display = "inline-block";
            document.getElementById("logout-btn").style.display = "inline-block";
        }
    });

    function logout() {
        localStorage.removeItem("auth");
        localStorage.removeItem("username");
        window.location.href = "/d_dash/login.html";
    }
</script>
